<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aldardasha House</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
  html {
    scroll-padding-top: 4rem;
  }

  body {
    font-family: sans-serif;
    background-color: #7f8ba718; /* Tailwind bg-gray-1000 */
    color: #1f2937;            /* Tailwind text-gray-800 */
  }

  p {
    text-align: justify;
    text-indent: 1em;
  }

  .event-number {
    color: #dc2626; /* red-600 */
    font-weight: bold;
    margin-right: 4px;
  }

  header {
    background-color: #1e293b; /* slate-800 */
    color: white;
    padding: 0.5rem;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  header h1 {
    font-size: 2rem;
    margin: 0;
    text-transform: uppercase;
    font-weight: bold;
  }
  header p {
    margin: 0.25rem 0;
    font-size: 1rem;
    text-align: center;
    
  }

  nav {
    background-color: #334155; /* slate-700 */
    color: white;
    padding: 0.75rem;
    position: sticky;
    top: 0;
    z-index: 40;
  }

  nav a {
    margin: 0 0.5rem;
    text-decoration: none;
  }

  nav a:hover {
    text-decoration: underline;
  }

  main {
    max-width: 64rem; /* Tailwind's max-w-5xl */
    margin: 0 auto;
    padding: 2.5rem 1rem;
  }

  h2 {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
    color: #1e293b; /* slate-800 */
  }

  .text-gray-700 {
    color: #374151;
  }

  .section-button a {
    display: inline-block;
    margin-top: 0.5rem;
    margin-bottom: 1rem;
  }

  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: 1rem;
  }

  @media (min-width: 640px) {
    .gallery-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 768px) {
    .gallery-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .gallery-img {
    width: 100%;
    height: 12rem;
    object-fit: contain;
    border-radius: 0.375rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    cursor: pointer;
  }

  .footer {
    background-color: #1e293b;
    color: white;
    text-align: center;
    padding: 1rem;
    margin-top: 2.5rem;
  }

  .modal {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 50;
    display: none;
    align-items: center;
    justify-content: center;
  }

  .modal-content {
    background: white;
    border-radius: 0.5rem;
    padding: 1.5rem;
    width: 24rem;
    text-align: left;
  }

  .modal.show {
    display: flex;
  }

  .modal button {
    margin-top: 1rem;
    background-color: #334155;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
  }

  .modal button:hover {
    background-color: #1e293b;
  }

  .text-blue-600 {
    color: #2563eb;
  }

  .text-blue-600:hover {
    text-decoration: underline;
  }

  .text-red-600 {
    color: #dc2626;
  }

  .text-green-600 {
    color: #16a34a;
  }

  .text-sm {
    font-size: 0.875rem;
  }

  .text-justify {
    text-align: justify;
  }

  .leading-relaxed {
    line-height: 1.625;
  }
</style>
</head>
<body">

  <header>
    <h1>ALDARDASHA HOUSE</h1>
    <p>From nothing you may become something.</p>
    <p>From something you may become everything.</p>
    <p>Founded by: Abdullah Almurshid, Aksar Ali, Jamil Aktar & Tanbir Ahammed</p>
  </header>

  <nav>
    <div class="flex flex-wrap justify-center space-x-4 sm:space-x-8 px-2">
      <a href="javascript:void(0);" onclick="openCentersModal()" class="hover:underline">Centers</a>
      <a href="javascript:void(0);" onclick="openModal()" class="hover:underline">Firms</a>
      <a href="appintment.html" class="hover:underline">Appointment</a>
      <a href="#gallery" class="hover:underline">Gallery</a>
      <a href="#events" class="hover:underline">Events</a>
    </div>
  </nav>
  
  <main>
    <section>
      <h2>About Aldardasha House</h2>
      <p class="text-gray-700 leading-relaxed">
        Established in January 2024, Aldardasha House is the heart of Dardasha Group Pvt Ltd, serving as its permanent office since March 27, 2025. It symbolizes unity, planning, and the future of our multi-venture group.
      </p>
    </section>
    <section id="library">
      <h2 class="text-2xl font-bold mb-2 text-slate-800">Aldardasha e-Library</h2>
      <p class="text-gray-700 leading-relaxed">
        The e-Library of Aldardasha House is a digital platform that provides access to a wide range of books and resources. It aims to promote reading and knowledge sharing among the community.
      </p>
      <div class="text-center mt-2 mb-10">
        <a class="text-red-600">To visit Aldardasha e-Library please click</a>
        <a href="elibrary.html" class="text-blue-600 hover:underline" target="_blank">here.</a>
      </div>
  
    <section id="centers">
      <h2 class="text-2xl font-bold mb-2 text-slate-800">Affiliated Centers</h2>
      <ul class="list-disc list-inside text-gray-700 space-y-1">
        <li><strong>Youth Centre:</strong> Established in January 2021.</li>
        <div class="text-center mt-4">
          <a class="text-red-600">To visit Youth Center please click</a>
          <a href="youth-centre.html" class="text-blue-600 hover:underline" target="_blank">here.</a>
        </div>
        <li><strong>Sports centre:</strong> Established in October 2020.</li>
        <div class="text-center mt-4">
          <a class="text-red-600">To visit Sports Center please click</a>
          <a href="sports-centre.html" class="text-blue-600 hover:underline" target="_blank">here.</a>
        </div>
      </ul>
    </section>

    <section id="Firms">
      <h2 class="text-2xl font-bold mb-2 text-slate-800">Affiliated Firms</h2>
      <ul class="list-disc list-inside text-gray-700 space-y-1">
        <li><strong>The Legend Pustika Bhandar:</strong> A firm established in August 2023.</li>
        <div class="text-center mt-4">
          <a class="text-red-600">To visit The Legend Pustika Bhandar please click</a>
          <a href="legend-firm.html" class="text-blue-600 hover:underline" target="_blank">here.</a>
        </div>
        <li><strong>Al Iktisaf Media House:</strong> A firm established in October 2023.</li>
        <div class="text-center mt-4">
          <a class="text-red-600">To visit Al Iktisaf Media House please click</a>
          <a href="iktisaf-firm.html" class="text-blue-600 hover:underline" target="_blank">here.</a>
        </div>
        <li><strong>Inqalaab Studio:</strong> A firm established in August 2024.</li>
        <div class="text-center mt-4">
          <a class="text-red-600">To visit Inqalaab Studio please click</a>
          <a href="inqalaab-firm.html" class="text-blue-600 hover:underline" target="_blank">here.</a>
        </div>
      </ul>
    </section>

<section id="gallery">
  <h2 class="text-2xl font-bold mb-4 text-slate-800">Gallery</h2>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
    <img src="images/bannar 1st.jpg" alt="Gallery Image 1" class="w-full h-48 object-contain rounded shadow cursor-pointer" ondblclick="openImageModal(this)">
    <img src="images/iftar.webp" alt="Gallery Image 2" class="w-full h-48 object-contain rounded shadow cursor-pointer" ondblclick="openImageModal(this)">
    <img src="images/tour.jpg" alt="Gallery Image 3" class="w-full h-48 object-contain rounded shadow cursor-pointer" ondblclick="openImageModal(this)">
    <img src="images/murihouse.jpg" alt="Gallery Image 4" class="w-full h-48 object-cover rounded shadow cursor-pointer" ondblclick="openImageModal(this)">
    <img src="images/chariftar.jpg" alt="Gallery Image 5" class="w-full h-48 object-cover rounded shadow cursor-pointer" ondblclick="openImageModal(this)">
    <img src="images/hfront.jpg" alt="Gallery Image 6" class="w-full h-48 object-cover rounded shadow cursor-pointer" ondblclick="openImageModal(this)">
  </div>
  <div class="text-center mt-4">
    <a class="text-green-600">To view more images or go to Gallery</a>
    <a href="gallery.html" class="text-blue-600 hover:underline" target="_blank">Click</a>
  </div>
</section>

<section id="events" class="mt-12">
  <h2 class="bg-green-400 text-center text-2xl font-bold mb-4 text-slate-800">Ongoing Events</h2>
  <ol id="ongoing-home-events">
    <li>Loading...</li>
  </ol>
  <div class="text-center mt-4">
    <a class="text-green-600">To view all events</a>
    <a href="events.html" class="text-blue-600 hover:underline" target="_blank">Click</a>
  </div>
</section>

<section id="Appointmanet">
  <h2 class="text-2xl font-bold mb-2 text-slate-800">Get Appointment</h2>
  <p class="text-gray-700">
    To make an Authority Appointment of the House, please click.
    <a href="appintment.html" class="inline-block bg-blue-800 text-white px-l py-1 rounded hover:bg-blue-600 transition ml-2">Authority Appointment</a>
  </p>
</section>

<section id="contact">
  <h2>Contact Details</h2>
  <p class="text-gray-700">Email: aldardashahouse@gmail.com</p>
  <p class="text-gray-700">Location: Aldardasha House, Kuchgiria, Bhagwangola, Murshidabad, 742123</p>
  <div class="text-center mt-4">
    <a class="text-gray-800">To reach through Google Map please click</a>
    <a href="https://maps.app.goo.gl/4HGUEaR1Jo6o3P7j9" class="text-blue-600 hover:underline" target="_blank">here.</a>
  </div>
</section>

  <section id="links">
    <h2 class="text-2xl font-bold mb-2 text-slate-800">Some Links</h2>
    <div class="text-align mt-4">
      <a class="text-gray-800">To visit official Facebook page click</a>
      <a href="https://maps.app.goo.gl/4HGUEaR1Jo6o3P7j9" class="text-blue-600 hover:underline" target="_blank">here.</a>
    </div>
  </section>
  </main>
  
  <footer>
    <!-- Firms Modal -->
    <div id="cellsModal">
      <div>
        <h2>Affiliated Firms</h2>
        <ul class="space-y-3">
          <li><a href="legend-firm.html">The Legend Pustika Bhandar</a></li>
          <li><a href="iktisaf-firm.html">Al Iktisaf Media House</a></li>
          <li><a href="inqalaab-firm.html">Inqalaab Studio</a></li>
        </ul>
        <button id="closeModal">Close</button>
      </div>
    </div>
  
    <!-- Centers Modal -->
    <div id="centersModal">
      <div>
        <h2>Affiliated Centers</h2>
        <ul class="space-y-3">
          <li><a href="youth-centre.html">Youth Centre</a></li>
          <li><a href="sports-centre.html">Sports Centre</a></li>
        </ul>
        <button id="closeCentersModal">Close</button>
      </div>
    </div>

    <!-- Image Modal -->
    <div id="imageModal">
      <div>
        <img id="modalImage" src="" alt="Broad Image">
        <button onclick="closeImageModal()">Close</button>
      </div>
    </div>
    <p>&copy; 2025 Aldardasha House | All rights reserved.</p>
  </footer>
  
  <script>
    const modal = document.getElementById('cellsModal');
    const closeModalBtn = document.getElementById('closeModal');
    const centersModal = document.getElementById('centersModal');
    const closeCentersModalBtn = document.getElementById('closeCentersModal');
  
    function openModal() {
      modal.classList.remove('hidden');
    }
  
    function openCentersModal() {
      centersModal.classList.remove('hidden');
    }
  
    closeModalBtn.addEventListener('click', () => {
      modal.classList.add('hidden');
    });
  
    closeCentersModalBtn.addEventListener('click', () => {
      centersModal.classList.add('hidden');
    });
  
    window.addEventListener('click', (e) => {
      if (e.target == modal) {
        modal.classList.add('hidden');
      }
      if (e.target == centersModal) {
        centersModal.classList.add('hidden');
      }
    });

    function openImageModal(img) {
      const src = img.src;
      const modal = document.createElement('div');
      modal.classList.add('fixed', 'inset-0', 'bg-black', 'bg-opacity-75', 'flex', 'items-center', 'justify-center', 'z-50');
      modal.innerHTML = `
        <div class="relative">
          <img src="${src}" class="max-w-full max-h-full rounded shadow-lg">
          <button class="absolute top-2 right-2 bg-white text-black rounded-full p-2" onclick="closeImageModal(this)">X</button>
        </div>
      `;
      document.body.appendChild(modal);
    }

    function closeImageModal(button) {
      const modal = button.closest('div.fixed');
      modal.remove();
    }

    const imageModal = document.getElementById('imageModal');
    const modalImage = document.getElementById('modalImage');

    function openImageModal(imageElement) {
      modalImage.src = imageElement.src; // Set the modal image source to the clicked image
      imageModal.classList.remove('hidden'); // Show the modal
    }

    function closeImageModal() {
      imageModal.classList.add('hidden'); // Hide the modal
      modalImage.src = ''; // Clear the modal image source
    }

    // Close the modal when clicking outside the image
    window.addEventListener('click', (e) => {
      if (e.target === imageModal) {
        closeImageModal();
      }
    });
  </script>

  <script>
function parseDate(dateStr) {
  if (!dateStr || typeof dateStr !== "string") return null;
  const [dd, mm, yyyy] = dateStr.split("-");
  const d = new Date(`${yyyy}-${mm}-${dd}`);
  return isNaN(d) ? null : d;
}

function formatDate(dateStr) {
  if (!dateStr || typeof dateStr !== "string") return "Invalid Date";
  const [dd, mm, yyyy] = dateStr.split("-");
  const d = new Date(`${yyyy}-${mm}-${dd}`);
  if (isNaN(d)) return "Invalid Date";
  const datePart = d.toLocaleDateString('en-GB', {
    day: '2-digit',
    month: 'long',
    year: 'numeric'
  });
  const weekday = d.toLocaleDateString('en-GB', { weekday: 'long' });
  return `${datePart} (${weekday})`;
}

async function loadOngoingEvents() {
  const list = document.getElementById("ongoing-home-events");
  list.innerHTML = "<li>Loading...</li>";
  try {
    const res = await fetch("https://house-dardasha-admin.onrender.com/api/events/public");
    const events = await res.json();
    list.innerHTML = "";

    const now = new Date();
    const oneWeekAgo = new Date();
    oneWeekAgo.setDate(now.getDate() - 7);

    const ongoingEvents = events.filter(ev => {
      const d = parseDate(ev.date);
      return d && d >= oneWeekAgo;
    });

    if (ongoingEvents.length === 0) {
      list.innerHTML = "<li>No ongoing events.</li>";
      return;
    }

    ongoingEvents.sort((a, b) => (parseDate(a.date) || 0) - (parseDate(b.date) || 0));

  ongoingEvents.forEach((ev, i) => {
    const number = i + 1; // 1-based index
    const li = document.createElement("li");
    li.className = "text-justify leading-relaxed";
    li.innerHTML = `
      <strong><span class="event-number">${number}.</span> ${ev.title}</strong>
      <span class="bg-yellow-200 text-slate-900 px-2 py-0.5 rounded text-sm mx-1 inline-block">
        📅 ${formatDate(ev.date)}
      </span>
      ${ev.details || ''}
      ${ev.fileUrl ? `<a href="${ev.fileUrl}" class="text-blue-600 hover:underline ml-2" target="_blank">View</a>` : ''}
    `;
    list.appendChild(li);
  });

  } catch (err) {
    list.innerHTML = "<li>Error loading events.</li>";
  }
}

loadOngoingEvents();
</script>

</body>
</html>
